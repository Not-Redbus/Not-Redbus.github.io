<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANDREW | BIOVAULT CASE STUDY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark', fontFamily: 'Roboto Mono' });
    </script>

    <style>
        body { background-color: #000; color: #f59e0b; font-family: 'Roboto Mono', monospace; }
        
        /* UI Components */
        .terminal-box { background-color: #09090b; border: 1px solid #27272a; padding: 10px; border-radius: 4px; }
        
        /* Specialized Portfolio Components */
        .insight-box { background-color: #1e1b4b; border-left: 3px solid #6366f1; padding: 12px; }
        .success-box { background-color: #064e3b; border-left: 3px solid #10b981; padding: 12px; }
        
        .spec-label { color: #52525b; font-size: 10px; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; margin-bottom: 4px; display: block; }
        .spec-text { color: #a1a1aa; font-size: 11px; line-height: 1.6; }
        .code-text { color: #a5b4fc; font-size: 11px; font-family: 'Courier New', Courier, monospace; }
        
        /* Syntax Highlighting Mockup */
        .sql-keyword { color: #c084fc; } /* Purple */
        .sql-func { color: #60a5fa; } /* Blue */
        .sql-string { color: #4ade80; } /* Green */
        .sql-comment { color: #52525b; font-style: italic; } /* Zinc */

        /* Buttons */
        .btn-base { font-size: 12px; background: #27272a; color: #a1a1aa; padding: 4px 12px; border: 1px solid #3f3f46; transition: all 0.2s; }
        .btn-base:hover { background: #f59e0b; color: black; border-color: #f59e0b; }

        /* Dropdown Styling */
        details > summary { list-style: none; cursor: pointer; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary { border-bottom: 1px solid #27272a; }
    </style>
</head>
<body class="min-h-screen p-4 sm:p-12 max-w-6xl mx-auto">

    <div class="mb-8 border-b border-zinc-800 pb-4 flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4">
        <div>
            <a href="index.html" class="text-zinc-600 hover:text-white text-xs mb-2 block">&lt; .. (CD_ROOT)</a>
            <h1 class="text-lg sm:text-xl text-indigo-400">C:\USERS\ANDREW\PORTFOLIO\</h1>
        </div>
        <div class="text-[10px] text-zinc-600 uppercase text-right">
            <span class="block">SYS_TIME: <span id="clock">--:--:--</span></span>
            <span class="block">PROJECT: BIOVAULT_CORE</span>
        </div>
    </div>

    <div class="space-y-2">

        <details class="group border border-zinc-800 rounded bg-black" open>
            <summary class="flex items-center p-3 select-none transition-colors bg-zinc-900/50 hover:bg-zinc-900">
                <span class="mr-4 font-bold text-zinc-500 text-xs">EXE</span>
                <span class="text-sm font-bold text-white">01_biovault_cold_chain.sys</span>
                <div class="ml-auto flex gap-2">
                    <span class="bg-indigo-900 text-indigo-300 text-[10px] px-2 py-1 rounded border border-indigo-700">#GXP_COMPLIANT</span>
                    <span class="bg-emerald-900 text-emerald-300 text-[10px] px-2 py-1 rounded border border-emerald-700">#IOT_SUPABASE</span>
                </div>
            </summary>
            
            <div class="p-6">
                
                <div class="grid lg:grid-cols-3 gap-8 mb-12">
                    <div class="lg:col-span-2">
                        <h2 class="text-2xl text-white font-bold mb-2">BioVault: Autonomous Logistics Engine</h2>
                        <p class="text-zinc-400 text-sm mb-4">Role: Technical Product Manager / Architect</p>
                        
                        <span class="spec-label text-red-500">>> THE "OPEN LOOP" VULNERABILITY (PROBLEM)</span>
                        <p class="spec-text mb-4">
                            Standard locker systems function on "Reactive Validation"—drivers open doors, deposit items, and scan them afterwards. 
                            In pharmaceutical logistics, this is catastrophic. Once a vaccine enters a "hot" locker, the spoilage has already occurred. 
                            The API can log the error, but it cannot reverse the chemical damage.
                        </p>

                        <span class="spec-label text-emerald-500">>> THE "CHECK-THEN-UNLOCK" PROTOCOL (SOLUTION)</span>
                        <p class="spec-text">
                            BioVault inverts the workflow using <strong>Atomic Hardware Control</strong>. 
                            The API treats a deposit request as a permission check. If the database constraints (Temperature vs. Package Requirements) aren't met, 
                            the API refuses to trigger the solenoid. It becomes <strong>physically impossible</strong> for a driver to execute a non-compliant deposit.
                        </p>
                    </div>
                    <div class="border-l border-zinc-800 pl-6 flex flex-col justify-center">
                        <div class="insight-box rounded mb-2">
                            <span class="spec-label text-indigo-300">>> KEY METRIC</span>
                            <div class="mt-2">
                                <span class="block text-[10px] text-zinc-400">PREV: REACTIVE ERROR RATE</span>
                                <span class="block text-xl text-red-400 font-mono">4.2%</span>
                            </div>
                            <div class="mt-2">
                                <span class="block text-[10px] text-zinc-400">NEW: PREVENTABLE ERROR RATE</span>
                                <span class="block text-xl text-emerald-400 font-mono">0.0%</span>
                            </div>
                            <p class="text-[10px] text-indigo-100 italic mt-2">
                                "We don't just catch errors. We lock them out."
                            </p>
                        </div>
                    </div>
                </div>

                <div class="mb-12">
                    <div class="flex justify-between items-end mb-2">
                        <span class="spec-label text-orange-500">>> ARCHITECTURE_DECISION_RECORD (ADR-001)</span>
                        <span class="text-[10px] text-zinc-500">STATUS: APPROVED</span>
                    </div>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <div class="terminal-box">
                            <span class="block text-zinc-500 text-[10px] mb-2">// DECISION: ATOMIC HARDWARE CONTROL</span>
                            <ul class="list-disc list-inside space-y-4">
                                <li class="text-[11px] text-zinc-300">
                                    <strong class="text-white">The Constraint:</strong> 
                                    The physical locker solenoid is decoupled from the user interface. It is enslaved solely to the API Response.
                                </li>
                                <li class="text-[11px] text-zinc-300">
                                    <strong class="text-white">The Logic Gate:</strong> 
                                    The `POST /deposit` endpoint runs a transaction. 
                                    <br><span class="text-xs text-zinc-500 pl-4">1. Lock Row -> 2. Check Temp -> 3. Write Audit -> 4. Return Success Signal</span>
                                </li>
                                <li class="text-[11px] text-zinc-300">
                                    <strong class="text-white">Fail-Safe State:</strong> 
                                    If the logic fails (e.g. Temp > 8°C), the API returns 422. The circuit remains open. The door stays locked.
                                </li>
                            </ul>
                        </div>

                        <div class="terminal-box flex flex-col justify-center items-center relative bg-zinc-950 p-4">
                            <div class="absolute top-2 left-2 text-[10px] text-zinc-600">seq_diagram: hardware_handoff</div>
                            <div class="mermaid w-full flex justify-center text-[10px]">
                                sequenceDiagram
                                    participant D as Driver
                                    participant S as Scanner
                                    participant API as Logic_Gate
                                    participant H as Solenoid (Lock)

                                    Note over D, H: The "Check-Then-Unlock" Flow

                                    D->>S: 1. Scans Package
                                    S->>API: POST /deposit {pkg_id}
                                    
                                    API->>API: 2. Check Constraints
                                    Note right of API: Temp: 12C (FAIL)
                                    
                                    API-->>S: 422 Unprocessable Entity
                                    S-->>D: Display "UNSAFE TEMP"
                                    
                                    Note right of H: REMAINS LOCKED
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-12">
                    <span class="spec-label text-green-500 mb-2">>> CORE_LOGIC.SQL (SUPABASE EDGE FUNCTION)</span>
                    <div class="terminal-box overflow-x-auto">
<pre class="code-text">
<span class="sql-comment">-- The "Safety Gate" Logic: Stops human error at the API level</span>
<span class="sql-keyword">create function</span> <span class="sql-func">validate_deposit</span>(locker_id uuid, shipment_id uuid) 
<span class="sql-keyword">returns</span> void <span class="sql-keyword">as</span> $$
<span class="sql-keyword">begin</span>
  <span class="sql-comment">-- 1. Check Hardware Telemetry (The Logic Gate)</span>
  <span class="sql-keyword">if</span> (lockers.current_temp > shipment.max_temp_limit) <span class="sql-keyword">then</span>
    <span class="sql-comment">-- RETURN 422: The Solenoid will NEVER trigger</span>
    <span class="sql-keyword">return error</span>(<span class="sql-string">'422: Temperature Excursion Risk - Deposit Blocked'</span>);
  <span class="sql-keyword">end if</span>;

  <span class="sql-comment">-- 2. Check Compliance Status (Kill Switch)</span>
  <span class="sql-keyword">if</span> (lockers.validation_status != <span class="sql-string">'QUALIFIED'</span>) <span class="sql-keyword">then</span>
    <span class="sql-keyword">return error</span>(<span class="sql-string">'503: Hardware not Validated for GxP Use'</span>);
  <span class="sql-keyword">end if</span>;

  <span class="sql-comment">-- 3. Execute Transaction & Write Audit Log</span>
  <span class="sql-keyword">update</span> lockers <span class="sql-keyword">set</span> status = <span class="sql-string">'OCCUPIED'</span> <span class="sql-keyword">where</span> id = locker_id;
<span class="sql-keyword">end</span>;
$$;
</pre>
                    </div>
                </div>

                <div class="grid lg:grid-cols-2 gap-8">
                    <div>
                        <span class="spec-label text-white mb-2">>> FUTURE_ROADMAP</span>
                        <p class="spec-text mb-4">
                            While the MVP enforces safety, it relies on client polling for temperature updates. 
                            In V2, I would implement <strong>MQTT Webhooks</strong> to push temperature alerts in real-time, reducing database read load by 80%.
                        </p>
                        <div class="flex gap-2">
                            <button class="btn-base">VIEW SWAGGER DOCS</button>
                            <button class="btn-base">GITHUB REPO</button>
                        </div>
                    </div>
                </div>

            </div>
        </details>

        <details class="group border border-zinc-800 rounded bg-black opacity-50">
            <summary class="flex items-center p-3 select-none cursor-not-allowed">
                <span class="mr-4 font-bold text-zinc-600 text-xs">EXE</span>
                <span class="text-sm font-bold text-zinc-500">02_agentic_ai_workflow.exe</span>
                <span class="ml-auto text-zinc-700 text-[10px] uppercase">PENDING_DEV</span>
            </summary>
        </details>

    </div>

    <script>
        // Clock Script
        setInterval(() => document.getElementById('clock').innerText = new Date().toLocaleTimeString(), 1000);
    </script>
</body>
</html>
